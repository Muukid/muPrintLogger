# muPrintLogger
muPrintLogger (mupl) is a public domain simple C header file that writes print calls to a log file. To use it, simply download the `muPrintLogger.h` file, add it to your include path, and include it like so:

```
#include MUPL_IMPLEMENTATION
#include "muPrintLogger.h"
```

Note that *not* defining `MUPL_IMPLEMENTATION` will define everything needed to interact with the library, but will not give an implementation for the functions, meaning that you can include it across multiple files without redefinition errors as long as you define `MUPL_IMPLEMENTATION` once in your main file.

# Licensing
mupl is licensed under public domain or MIT, whichever you prefer. More information is provided in the accompanying file `license.md` and at the bottom of `muPrintLogger.h`.

# C/C++ standard compliancy
mupl is C99 and C++11 compliant.

# Thread safety
mupl is *not* thread safe, as if two calls to a print or log function happen simultaneously, the log file will most likely fail to open and the second print/log call will fail.

# Error checking
mupl does not have any error checking.

# Functions

## Initiation and termination

`mupl_init` is used to start the log file that will be written to, defined below:

```
void mupl_init(void);
```

`mupl_term` is used to write the final message to the log, indicating that the program has closed successfully, defined below:

```
void mupl_term(void);
```

## Printing and logging

`mupl_printf` is used to both print to the standard output and write to the log file, defined below:

```
void mupl_printf(const char* p, ...);
```

Note that this function can also be referred to as `mu_printf` and `mu_print`.

`mupl_log` is used to write just to the log file, defined below:

```
void mupl_log(const char* p, ...);
```

# Warnings

## Slower print times
Every time something is printed, numerous calls are made, including allocation and freeing of memory, meaning that your program will run *significantly* slower per-print, especially on systems like Windows where print calls already take a considerable amount of time.

## End of log
At the end of the log generated by mupl, you should see the following message:

```
[MUPL] Program closed successfully (if you don't see this message, the program crashed!)
```

If this message does not appear, that means that `mupl_term` was never called, which means that whether it was forgotten or the program crashed before it reached it.

# Macros

## Secure warnings
mupl automatically defines `_CRT_SECURE_NO_WARNINGS` to avoid errors with calling non-safe versions of functions. To disable this functionality, define `MU_SECURE_WARNINGS` before any inclusion of the file.

## Version
mupl automatically defines `MUPL_VERSION_MAJOR`, `MUPL_VERSION_MINOR`, and `MUPL_VERSION_PATCH`. These versions match the releases on the GitHub page (formatting major.minor.patch) and can be used to check if the correct version of mupl is running.

## Static/Extern defines
Defining `MU_STATIC` before including `muPrintLogger.h` will set all the definitions of the functions to `static`. Otherwise, it defaults to `extern`. Additionally, you can define `MUDEF` directly to have full control over its definition.

## Filename

The filename that mupl automatically writes to is `log.txt`, but this can be manually overridden by defining the macro `MUPL_FILENAME` before including `muPrintLogger.h`.

## C standard library dependencies
mupl relies on several C standard library functions, types, and defines. The list of types can be found below:

`MU_FILE`: equivalent to `FILE`, uses `stdio.h` for definition.

`mu_fopen`: equivalent to `fopen`, uses `stdio.h` for definition.

`mu_fclose`: equivalent to `fclose`, uses `stdio.h` for definition.

`mu_fprintf`: equivalent to `fprintf`, uses `stdio.h` for definition.

`mu_std_printf`: equivalent to `printf`, uses `stdio.h` for definition.

`mu_vsprintf`: equivalent to `vsprintf`, uses `stdio.h` for definition.

`mu_vsnprintf`: equivalent to `vsnprintf`, uses `stdio.h` for definition.

`mu_va_list`: equivalent to `va_list`, uses `stdarg.h` for definition.

`mu_va_start`: equivalent to `va_start`, uses `stdarg.h` for definition.

`mu_va_end`: equivalent to `va_end`, uses `stdarg.h` for definition.

`mu_malloc`: equivalent to `malloc`, uses `stdlib.h` for definition.

`mu_free`: equivalent to `free`, uses `stdlib.h` for definition.

`size_m`: equivalent to `size_t`, uses `stddef.h` for definition.

Note that all of these macros can be overwritten by defining them before including `muPrintLogger.h`.

Note that overwriting all macros relating to a C standard library header file prevents it from being automatically included.
